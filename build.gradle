plugins {
    id 'java'
}

 def mainClass = "Driver"

version '1.0-SNAPSHOT'

sourceCompatibility = 1.8


test {
    testLogging {
        events "passed", "skipped", "failed"
    }
}

def configJavaExec = { JavaExec task ->
    task.main = mainClass
    task.classpath = sourceSets.main.runtimeClasspath
    task.standardInput = System.in
}

jar {
    manifest {
        attributes('Main-Class': 'package.Main')
    }
}


task run(dependsOn: jar, type: JavaExec) {
    configJavaExec(it)
}
    repositories {
        mavenCentral()
    }

    dependencies {
        // https://mvnrepository.com/artifact/com.thoughtworks.xstream/xstream
        compile group: 'com.thoughtworks.xstream', name: 'xstream', version: '1.4.9'
        
        testCompile group: 'junit', name: 'junit', version: '4.12'
    }
